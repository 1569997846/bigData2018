<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1519611844768" ID="ID_730115021" MODIFIED="1519613924709" TEXT="flume&#xff08;&#x65e5;&#x5fd7;&#x6536;&#x96c6;&#x7cfb;&#x7edf;&#xff09;">
<node CREATED="1519615126779" ID="ID_465314402" MODIFIED="1519615136098" POSITION="right" TEXT="flume&#x7684;&#x7ed3;&#x6784;">
<node CREATED="1519615139110" ID="ID_1365130853" MODIFIED="1519615166048" TEXT="Agent&#x4e3b;&#x8981;&#x7531;&#x4e09;&#x90e8;&#x5206;&#x7ec4;&#x6210;">
<node CREATED="1519615170521" ID="ID_1857265725" MODIFIED="1519801102030" TEXT="1.source(&#x76f8;&#x5f53;&#x4e8e;&#x6570;&#x636e;&#x6e90;)">
<node CREATED="1519615249091" ID="ID_918587573" MODIFIED="1519800958799" TEXT="&#x81ea;&#x52a8;source">
<node CREATED="1519800962132" ID="ID_709738097" MODIFIED="1519801099557" TEXT="&#x81ea;&#x52a8;&#x7684;&#x53bb;&#x53d6;&#x6570;&#x636e;&#xff08;&#x5982;&#x76d1;&#x542c;&#x67d0;&#x4e2a;&#x6587;&#x4ef6;&#x5939;&#x4e00;&#x65e6;&#x6709;&#x6570;&#x636e;&#x4e0a;&#x6765;&#x5c31;&#x4e3b;&#x52a8;&#x7684;&#x53bb;&#x53d6;&#x6570;&#x636e;&#xff09;"/>
</node>
<node CREATED="1519801028028" ID="ID_257113364" MODIFIED="1519801042134" TEXT="&#x88ab;&#x52a8;source">
<node CREATED="1519801045200" ID="ID_766638719" MODIFIED="1519801068962" TEXT="&#x88ab;&#x52a8;&#x7684;&#x53bb;&#x63a5;&#x6536;&#x6570;&#x636e;&#xff08;&#x9700;&#x8981;&#x522b;&#x4eba;&#x53d1;&#x9001;&#xff09;"/>
</node>
</node>
<node CREATED="1519615194075" ID="ID_504265435" MODIFIED="1519801127700" TEXT="2.channel&#xff08;&#x53ef;&#x4ee5;&#x7406;&#x89e3;&#x4e3a;&#x6570;&#x636e;&#x7684;&#x7f13;&#x5b58;&#x533a;&#xff09;&#xff09;">
<node CREATED="1519615296623" ID="ID_1578907928" MODIFIED="1519801149703" TEXT="&#x5185;&#x5b58;&#x7f13;&#x5b58;">
<node CREATED="1519801162185" ID="ID_1520138485" MODIFIED="1519801195932" TEXT="&#x4f7f;&#x7528;&#x5185;&#x5b58;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x7f13;&#x5b58;&#xff0c;&#x8fd9;&#x4e2a;&#x6548;&#x7387;&#x6700;&#x9ad8;&#x4f20;&#x8f93;&#x901f;&#x5ea6;&#x6700;&#x5feb;"/>
</node>
<node CREATED="1519801152743" ID="ID_1929808222" MODIFIED="1519801157729" TEXT="&#x78c1;&#x76d8;&#x7f13;&#x5b58;">
<node CREATED="1519801214946" ID="ID_1342140371" MODIFIED="1519801252054" TEXT="&#x5c06;&#x6570;&#x636e;&#x5199;&#x5165;&#x78c1;&#x76d8;&#x4e2d;&#xff0c;&#x751f;&#x6210;&#x672c;&#x5730;&#x6587;&#x4ef6;"/>
</node>
</node>
<node CREATED="1519615205545" ID="ID_410044226" MODIFIED="1519801344448" TEXT="3.sink(&#x53ef;&#x4ee5;&#x7406;&#x89e3;&#x4e3a;&#x662f;&#x4e00;&#x4e2a;&#x5ba2;&#x6237;&#x7aef;&#xff0c;&#x80fd;&#x591f;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x76f8;&#x5e94;&#x7684;&#x8bfb;&#x5199;&#x64cd;&#x4f5c;&#xff0c;&#x5c06;&#x6570;&#x636e;&#x5199;&#x5230;&#x6307;&#x5b9a;&#x7684;&#x4f4d;&#x7f6e;&#x8fdb;&#x884c;&#x5b58;&#x50a8;)">
<node CREATED="1519615329742" ID="ID_99476878" MODIFIED="1519801393697" TEXT="&#x5982;&#xff1a;sink&#x5c06;&#x6536;&#x96c6;&#x7684;&#x6570;&#x636e;&#x5199;&#x5165;&#x5230;hdfs&#x4e2d;&#x8fdb;&#x884c;&#x4fdd;&#x5b58;"/>
</node>
</node>
<node CREATED="1519615895929" ID="ID_1349122198" MODIFIED="1519615954232">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="flume&#x7684;&#x67b6;&#x6784;&#x56fe;.png" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1519801474057" ID="ID_102891106" MODIFIED="1519801480107" POSITION="right" TEXT="&#x5b89;&#x88c5;">
<node CREATED="1519801483197" ID="ID_136843963" MODIFIED="1519801503660" TEXT="1.&#x4e0a;&#x4f20;"/>
<node CREATED="1519801506298" ID="ID_141089833" MODIFIED="1519801510966" TEXT="2.&#x89e3;&#x538b;"/>
<node CREATED="1519801513081" ID="ID_1727206485" MODIFIED="1519801608713" TEXT="3.&#x4fee;&#x6539;conf/flume-env.sh &#x6587;&#x4ef6;&#x4e2d;&#x7684;jdk&#x76ee;&#x5f55;&#xff08;&#x6ce8;&#x610f;&#xff1a;JAVA_OPTS&#x914d;&#x7f6e; &#x5982;&#x679c;&#x6211;&#x4eec;&#x4f20;&#x5165;&#x6587;&#x4ef6;&#x8fc7;&#x5927; &#x62a5;&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#x65f6;&#xff0c;&#x9700;&#x8981;&#x4fee;&#x6539;&#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#xff09;"/>
<node CREATED="1519801619368" ID="ID_1783547540" MODIFIED="1519801651934" TEXT="4.&#x9a8c;&#x8bc1;&#x5b89;&#x88c5;&#x662f;&#x5426;&#x6210;&#x529f; ./flume-ng version"/>
<node CREATED="1519801662629" ID="ID_1612382707" MODIFIED="1519801678595" TEXT="5.&#x914d;&#x7f6e;&#x73af;&#x5883;&#x53d8;&#x91cf;">
<node CREATED="1519801692197" ID="ID_298806295" MODIFIED="1519801694588" TEXT="export FLUME_HOME=/home/apache-flume-1.6.0-bin"/>
</node>
</node>
<node CREATED="1519801733186" FOLDED="true" ID="ID_320403598" MODIFIED="1519803001357" POSITION="right" TEXT="Source&#x3001;Channel&#x3001;Sink&#x6709;&#x54ea;&#x4e9b;&#x7c7b;&#x578b;">
<node CREATED="1519801760651" ID="ID_168955322" MODIFIED="1519801768882" TEXT="source&#x7c7b;&#x578b;">
<node CREATED="1519801771855" ID="ID_673349885" MODIFIED="1519801792698" TEXT="Avro Source">
<node CREATED="1519801795859" ID="ID_16904669" MODIFIED="1519801803954" TEXT="&#x652f;&#x6301;Avro&#x534f;&#x8bae;&#xff08;&#x5b9e;&#x9645;&#x4e0a;&#x662f;Avro RPC&#xff09;&#xff0c;&#x5185;&#x7f6e;&#x652f;&#x6301;"/>
</node>
<node CREATED="1519801813936" ID="ID_296141910" MODIFIED="1519801816771" TEXT="Thrift Source">
<node CREATED="1519801823205" ID="ID_1073975665" MODIFIED="1519801824872" TEXT="&#x652f;&#x6301;Thrift&#x534f;&#x8bae;&#xff0c;&#x5185;&#x7f6e;&#x652f;&#x6301;"/>
</node>
<node CREATED="1519801847475" ID="ID_959630323" MODIFIED="1519802395036" TEXT="Exec Source&#xff08;&#x5e38;&#x7528;&#xff09;">
<node CREATED="1519801859741" ID="ID_1069788331" MODIFIED="1519801861822" TEXT="&#x57fa;&#x4e8e;Unix&#x7684;command&#x5728;&#x6807;&#x51c6;&#x8f93;&#x51fa;&#x4e0a;&#x751f;&#x4ea7;&#x6570;&#x636e;">
<node CREATED="1519801870383" ID="ID_720648215" MODIFIED="1519801870383" TEXT=""/>
</node>
</node>
<node CREATED="1519801929289" ID="ID_1821884158" MODIFIED="1519801932872" TEXT="JMS Source">
<node CREATED="1519801939523" ID="ID_1783390075" MODIFIED="1519801941434" TEXT="&#x4ece;JMS&#x7cfb;&#x7edf;&#xff08;&#x6d88;&#x606f;&#x3001;&#x4e3b;&#x9898;&#xff09;&#x4e2d;&#x8bfb;&#x53d6;&#x6570;&#x636e;"/>
</node>
<node CREATED="1519801950231" ID="ID_1048079838" MODIFIED="1519802121970" TEXT="Spooling Directory Source&#xff08;&#x8fd9;&#x4e2a;&#x5f88;&#x5e38;&#x7528;&#xff0c;&#x5982;&#x65e5;&#x5fd7;&#x5206;&#x6790;&#xff09;">
<node CREATED="1519801954664" ID="ID_57300570" MODIFIED="1519802088844" TEXT="&#x76d1;&#x63a7;&#x6307;&#x5b9a;&#x76ee;&#x5f55;&#x5185;&#x6570;&#x636e;&#x53d8;&#x66f4;&#xff08;&#x6570;&#x636e;&#x5982;&#x679c;&#x6709;&#x53d8;&#x66f4;&#xff0c;&#x6570;&#x636e;&#x5c06;&#x4f1a;&#x88ab;&#x6536;&#x96c6;&#x5230;&#x6307;&#x5b9a;&#x7684;&#x5730;&#x65b9;&#xff09;"/>
</node>
<node CREATED="1519802136671" ID="ID_847682747" MODIFIED="1519802139427" TEXT="Twitter 1% firehose Source">
<node CREATED="1519802145089" ID="ID_1066068686" MODIFIED="1519802146909" TEXT="&#x901a;&#x8fc7;API&#x6301;&#x7eed;&#x4e0b;&#x8f7d;Twitter&#x6570;&#x636e;&#xff0c;&#x8bd5;&#x9a8c;&#x6027;&#x8d28;"/>
</node>
<node CREATED="1519802158182" ID="ID_779143265" MODIFIED="1519802381778" TEXT="Netcat Source&#xff08;&#x5e38;&#x7528;&#xff09;">
<node CREATED="1519802168025" ID="ID_575513431" MODIFIED="1519802251231" TEXT="&#x76d1;&#x63a7;&#x67d0;&#x4e2a;&#x7aef;&#x53e3;&#xff0c;&#x5c06;&#x6d41;&#x7ecf;&#x7aef;&#x53e3;&#x7684;&#x6bcf;&#x4e00;&#x4e2a;&#x6587;&#x672c;&#x884c;&#x6570;&#x636e;&#x4f5c;&#x4e3a;Event&#x8f93;&#x5165;&#xff08;&#x8fdb;&#x884c;&#x6536;&#x96c6;&#xff0c;&#x7c7b;&#x4f3c;&#x4e8e;socket&#x901a;&#x4fe1;&#xff09;"/>
</node>
<node CREATED="1519802258192" ID="ID_1181661304" MODIFIED="1519802259900" TEXT="Sequence Generator Source">
<node CREATED="1519802262817" ID="ID_981495165" MODIFIED="1519802270345" TEXT=" &#x5e8f;&#x5217;&#x751f;&#x6210;&#x5668;&#x6570;&#x636e;&#x6e90;&#xff0c;&#x751f;&#x4ea7;&#x5e8f;&#x5217;&#x6570;&#x636e;"/>
</node>
<node CREATED="1519802299806" ID="ID_1150430828" MODIFIED="1519802304352" TEXT="Syslog Sources">
<node CREATED="1519802317704" ID="ID_346717052" MODIFIED="1519802319345" TEXT="&#x8bfb;&#x53d6;syslog&#x6570;&#x636e;&#xff0c;&#x4ea7;&#x751f;Event&#xff0c;&#x652f;&#x6301;UDP&#x548c;TCP"/>
</node>
<node CREATED="1519802324143" ID="ID_155834286" MODIFIED="1519802337252" TEXT="HTTP Source">
<node CREATED="1519802344680" ID="ID_1804069646" MODIFIED="1519802346213" TEXT="&#x57fa;&#x4e8e;HTTP POST&#x6216;GET&#x65b9;&#x5f0f;&#x7684;&#x6570;&#x636e;&#x6e90;&#xff0c;&#x652f;&#x6301;JSON&#x3001;BLOB&#x8868;&#x793a;&#x5f62;&#x5f0f;"/>
</node>
<node CREATED="1519802356720" ID="ID_957552071" MODIFIED="1519802358499" TEXT="Legacy Sources">
<node CREATED="1519802360530" ID="ID_1850945423" MODIFIED="1519802368967" TEXT="&#x517c;&#x5bb9;&#x8001;&#x7684;Flume OG&#x4e2d;Source&#xff08;0.9.x&#x7248;&#x672c;&#xff09;"/>
</node>
</node>
<node CREATED="1519802414497" ID="ID_1764482151" MODIFIED="1519802416388" TEXT="Channel&#x7c7b;&#x578b;">
<node CREATED="1519802418514" ID="ID_734324421" MODIFIED="1519802641843" TEXT="Memory Channel&#xff08;&#x5e38;&#x7528;&#xff09;">
<node CREATED="1519802430159" ID="ID_1142512693" MODIFIED="1519802441410" TEXT="Event&#x6570;&#x636e;&#x5b58;&#x50a8;&#x5728;&#x5185;&#x5b58;&#x4e2d;"/>
</node>
<node CREATED="1519802451774" ID="ID_624951751" MODIFIED="1519802454636" TEXT="JDBC Channel ">
<node CREATED="1519802467376" ID="ID_1575360698" MODIFIED="1519802484992" TEXT="Event&#x6570;&#x636e;&#x5b58;&#x50a8;&#x5728;&#x6301;&#x4e45;&#x5316;&#x5b58;&#x50a8;&#x4e2d;&#xff0c;&#x5f53;&#x524d;FlumeChannel&#x5185;&#x7f6e;&#x652f;&#x6301;Derby"/>
</node>
<node CREATED="1519802521405" ID="ID_297177880" MODIFIED="1519802633346" TEXT="File Channel&#xff08;&#x5e38;&#x7528;&#xff09;">
<node CREATED="1519802525632" ID="ID_1523720161" MODIFIED="1519802535144" TEXT="Event&#x6570;&#x636e;&#x5b58;&#x50a8;&#x5728;&#x78c1;&#x76d8;&#x6587;&#x4ef6;&#x4e2d;"/>
</node>
<node CREATED="1519802541199" ID="ID_1888684868" MODIFIED="1519802580145" TEXT="Spillable Memory Channel ">
<node CREATED="1519802565049" ID="ID_907366934" MODIFIED="1519802566588" TEXT="Event&#x6570;&#x636e;&#x5b58;&#x50a8;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#x548c;&#x78c1;&#x76d8;&#x4e0a;&#xff0c;&#x5f53;&#x5185;&#x5b58;&#x961f;&#x5217;&#x6ee1;&#x4e86;&#xff0c;&#x4f1a;&#x6301;&#x4e45;&#x5316;&#x5230;&#x78c1;&#x76d8;&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1519802576805" ID="ID_130785932" MODIFIED="1519802579235" TEXT="Pseudo Transaction Channel ">
<node CREATED="1519802586209" ID="ID_660229880" MODIFIED="1519802594843" TEXT="&#x6d4b;&#x8bd5;&#x7528;&#x9014;"/>
</node>
<node CREATED="1519802605117" ID="ID_73595773" MODIFIED="1519802607256" TEXT="Custom Channel ">
<node CREATED="1519802612308" ID="ID_208370030" MODIFIED="1519802613921" TEXT="&#x81ea;&#x5b9a;&#x4e49;Channel&#x5b9e;&#x73b0;"/>
</node>
</node>
<node CREATED="1519802662589" ID="ID_568205517" MODIFIED="1519802664569" TEXT="Sink&#x7c7b;&#x578b;">
<node CREATED="1519802667577" ID="ID_1623189332" MODIFIED="1519802676497" TEXT="HDFS Sink">
<node CREATED="1519802684132" ID="ID_240476224" MODIFIED="1519802685731" TEXT="&#x6570;&#x636e;&#x5199;&#x5165;HDFS"/>
</node>
<node CREATED="1519802705622" ID="ID_740793047" MODIFIED="1519802707614" TEXT="Logger Sink ">
<node CREATED="1519802709442" ID="ID_660126143" MODIFIED="1519802716507" TEXT="&#x6570;&#x636e;&#x5199;&#x5165;&#x65e5;&#x5fd7;&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1519802732148" ID="ID_169244741" MODIFIED="1519802734350" TEXT="Avro Sink">
<node CREATED="1519802736700" ID="ID_224970254" MODIFIED="1519802743588" TEXT="&#x6570;&#x636e;&#x88ab;&#x8f6c;&#x6362;&#x6210;Avro Event&#xff0c;&#x7136;&#x540e;&#x53d1;&#x9001;&#x5230;&#x914d;&#x7f6e;&#x7684;RPC&#x7aef;&#x53e3;&#x4e0a;"/>
</node>
<node CREATED="1519802752302" ID="ID_662115914" MODIFIED="1519802754419" TEXT="Thrift Sink">
<node CREATED="1519802757063" ID="ID_860346315" MODIFIED="1519802765435" TEXT="&#x6570;&#x636e;&#x88ab;&#x8f6c;&#x6362;&#x6210;Thrift Event&#xff0c;&#x7136;&#x540e;&#x53d1;&#x9001;&#x5230;&#x914d;&#x7f6e;&#x7684;RPC&#x7aef;&#x53e3;&#x4e0a;"/>
</node>
<node CREATED="1519802780854" ID="ID_142100624" MODIFIED="1519802782489" TEXT="IRC Sink">
<node CREATED="1519802784725" ID="ID_1785087082" MODIFIED="1519802791456" TEXT="&#x6570;&#x636e;&#x5728;IRC&#x4e0a;&#x8fdb;&#x884c;&#x56de;&#x653e;"/>
</node>
<node CREATED="1519802809397" ID="ID_1864251445" MODIFIED="1519802811478" TEXT="File Roll Sink">
<node CREATED="1519802813712" ID="ID_1591931801" MODIFIED="1519802822075" TEXT="&#x5b58;&#x50a8;&#x6570;&#x636e;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1519802832268" ID="ID_1434918951" MODIFIED="1519802833813" TEXT="Null Sink">
<node CREATED="1519802844204" ID="ID_680892318" MODIFIED="1519802845627" TEXT="&#x4e22;&#x5f03;&#x5230;&#x6240;&#x6709;&#x6570;&#x636e;"/>
</node>
<node CREATED="1519802865605" ID="ID_211456040" MODIFIED="1519802867953" TEXT="HBase Sink ">
<node CREATED="1519802878868" ID="ID_511007530" MODIFIED="1519802880433" TEXT="&#x6570;&#x636e;&#x5199;&#x5165;HBase&#x6570;&#x636e;&#x5e93;"/>
</node>
<node CREATED="1519802896056" ID="ID_1142136294" MODIFIED="1519802897774" TEXT="Morphline Solr Sink">
<node CREATED="1519802908674" ID="ID_686765074" MODIFIED="1519802910206" TEXT="&#x6570;&#x636e;&#x53d1;&#x9001;&#x5230;Solr&#x641c;&#x7d22;&#x670d;&#x52a1;&#x5668;&#xff08;&#x96c6;&#x7fa4;&#xff09;"/>
</node>
<node CREATED="1519802919328" ID="ID_156113742" MODIFIED="1519802922326" TEXT="ElasticSearch Sink">
<node CREATED="1519802928005" ID="ID_65311332" MODIFIED="1519802929750" TEXT="&#x6570;&#x636e;&#x53d1;&#x9001;&#x5230;Elastic Search&#x641c;&#x7d22;&#x670d;&#x52a1;&#x5668;&#xff08;&#x96c6;&#x7fa4;&#xff09;"/>
</node>
<node CREATED="1519802940372" ID="ID_1161185896" MODIFIED="1519802942001" TEXT="Kite Dataset Sink">
<node CREATED="1519802949898" ID="ID_868400100" MODIFIED="1519802951446" TEXT="&#x6570;&#x636e;&#x53d1;&#x9001;&#x5230;Elastic Search&#x641c;&#x7d22;&#x670d;&#x52a1;&#x5668;&#xff08;&#x96c6;&#x7fa4;&#xff09;"/>
</node>
<node CREATED="1519802982419" ID="ID_1570540831" MODIFIED="1519802984038" TEXT="Custom Sink ">
<node CREATED="1519802986273" ID="ID_601029675" MODIFIED="1519802996133" TEXT="&#x81ea;&#x5b9a;&#x4e49;Sink&#x5b9e;&#x73b0;"/>
</node>
</node>
</node>
<node CREATED="1519803003806" ID="ID_927436907" MODIFIED="1519803008585" POSITION="right" TEXT="&#x6848;&#x4f8b;">
<node CREATED="1519803013709" ID="ID_689964821" MODIFIED="1519803017922" TEXT="&#x6848;&#x4f8b;1">
<node CREATED="1519803023044" ID="ID_794569973" MODIFIED="1519803150103" TEXT="http://flume.apache.org/FlumeUserGuide.html#a-simple-example &#x9;&#xa; &#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;&#xa;############################################################ &#x9;&#xa;# Name the components on this agent &#x9;&#xa;a1.sources = r1 &#x9;&#xa;a1.sinks = k1 &#x9;&#xa;a1.channels = c1  &#x9;&#xa;# Describe/configure the source &#x9;&#xa;a1.sources.r1.type = netcat &#x9;&#xa;a1.sources.r1.bind = localhost &#x9;&#xa;a1.sources.r1.port = 44444  &#x9;&#xa;# Describe the sink &#x9;&#xa;a1.sinks.k1.type = logger  &#x9;&#xa;# Use a channel which buffers events in memory &#x9;&#xa;a1.channels.c1.type = memory &#x9;a1.channels.c1.capacity = 1000 &#xa;a1.channels.c1.transactionCapacity = 100  &#x9;&#xa;# Bind the source and sink to the channel &#x9;&#xa;a1.sources.r1.channels = c1 &#x9;&#xa;a1.sinks.k1.channel = c1 &#x9;############################################################&#xa; &#x542f;&#x52a8;flume flume-ng agent -n a1 -c conf -f simple.conf -Dflume.root.logger=INFO,console&#xa;  &#x5b89;&#x88c5;telnet yum install telnet &#x9000;&#x51fa; ctrl+]  quit  Memory Chanel &#xa;&#x914d;&#x7f6e;   capacity&#xff1a;&#x9ed8;&#x8ba4;&#x8be5;&#x901a;&#x9053;&#x4e2d;&#x6700;&#x5927;&#x7684;&#x53ef;&#x4ee5;&#x5b58;&#x50a8;&#x7684;event&#x6570;&#x91cf;&#x662f;100&#xff0c;   trasactionCapacity&#xff1a;&#x6bcf;&#x6b21;&#x6700;&#x5927;&#x53ef;&#x4ee5;source&#x4e2d;&#x62ff;&#x5230;&#x6216;&#x8005;&#x9001;&#x5230;sink&#x4e2d;&#x7684;event&#x6570;&#x91cf;&#x4e5f;&#x662f;100   &#xa;keep-alive&#xff1a;event&#x6dfb;&#x52a0;&#x5230;&#x901a;&#x9053;&#x4e2d;&#x6216;&#x8005;&#x79fb;&#x51fa;&#x7684;&#x5141;&#x8bb8;&#x65f6;&#x95f4;   byte**&#xff1a;&#x5373;event&#x7684;&#x5b57;&#x8282;&#x91cf;&#x7684;&#x9650;&#x5236;&#xff0c;&#x53ea;&#x5305;&#x62ec;eventbody "/>
</node>
<node CREATED="1519803165403" ID="ID_1679940142" MODIFIED="1519803218214" TEXT="&#x6848;&#x4f8b;2&#xff08;&#x4e24;&#x4e2a;flume&#x505a;&#x96c6;&#x7fa4;&#xff09;">
<node CREATED="1519803178172" ID="ID_1639015652" MODIFIED="1519803203440" TEXT="node01&#x670d;&#x52a1;&#x5668;&#x4e2d;&#xff0c;&#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;############################################################ &#x9;# Name the components on this agent &#x9;a1.sources = r1 &#x9;a1.sinks = k1 &#x9;a1.channels = c1  &#x9;# Describe/configure the source &#x9;a1.sources.r1.type = netcat &#x9;a1.sources.r1.bind = node01 &#x9;a1.sources.r1.port = 44444  &#x9;# Describe the sink &#x9;# a1.sinks.k1.type = logger &#x9;a1.sinks.k1.type = avro &#x9;a1.sinks.k1.hostname = node02 &#x9;a1.sinks.k1.port = 60000  &#x9;# Use a channel which buffers events in memory &#x9;a1.channels.c1.type = memory &#x9;a1.channels.c1.capacity = 1000 &#x9;a1.channels.c1.transactionCapacity = 100  &#x9;# Bind the source and sink to the channel &#x9;a1.sources.r1.channels = c1 &#x9;a1.sinks.k1.channel = c1 &#x9;############################################################ &#x9; &#x9;node02&#x670d;&#x52a1;&#x5668;&#x4e2d;&#xff0c;&#x5b89;&#x88c5;Flume&#xff08;&#x6b65;&#x9aa4;&#x7565;&#xff09; &#x9;&#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;############################################################ &#x9;# Name the components on this agent &#x9;a1.sources = r1 &#x9;a1.sinks = k1 &#x9;a1.channels = c1  &#x9;# Describe/configure the source &#x9;a1.sources.r1.type = avro &#x9;a1.sources.r1.bind = node02 &#x9;a1.sources.r1.port = 60000  &#x9;# Describe the sink &#x9;a1.sinks.k1.type = logger  &#x9;# Use a channel which buffers events in memory &#x9;a1.channels.c1.type = memory &#x9;a1.channels.c1.capacity = 1000 &#x9;a1.channels.c1.transactionCapacity = 100  &#x9;# Bind the source and sink to the channel &#x9;a1.sources.r1.channels = c1 &#x9;a1.sinks.k1.channel = c1 &#x9;############################################################ &#x9; &#x9;&#x5148;&#x542f;&#x52a8;node02&#x7684;Flume &#x9;flume-ng agent  -n a1 -c conf -f avro.conf -Dflume.root.logger=INFO,console &#x9; &#x9;&#x518d;&#x542f;&#x52a8;node01&#x7684;Flume &#x9;flume-ng agent  -n a1 -c conf -f simple.conf2 -Dflume.root.logger=INFO,console &#x9; &#x9;&#x6253;&#x5f00;telnet &#x6d4b;&#x8bd5;  node02&#x63a7;&#x5236;&#x53f0;&#x8f93;&#x51fa;&#x7ed3;&#x679c; "/>
</node>
<node CREATED="1519803228072" ID="ID_775288119" MODIFIED="1519803231966" TEXT="&#x6848;&#x4f8b;3">
<node CREATED="1519803235683" ID="ID_308346880" MODIFIED="1519803315406" TEXT="http://flume.apache.org/FlumeUserGuide.html#exec-source &#x9;&#x9; &#x9;&#xa;&#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;&#xa;############################################################ &#xa;a1.sources = r1 a1.sinks = k1 &#xa;a1.channels = c1  &#xa;# Describe/configure the source &#xa;a1.sources.r1.type = exec &#xa;a1.sources.r1.command = tail -F /home/flume.exec.log &#xa; # Describe the sink a1.sinks.k1.type = logger  &#xa;# Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100  &#xa;# Bind the source and sink to the channel &#xa;a1.sources.r1.channels = c1 &#xa;a1.sinks.k1.channel = c1 &#x9;############################################################ &#x9; &#x9;&#xa;&#x542f;&#x52a8;Flume &#x9;flume-ng agent -n a1 -c conf -f exec.conf -Dflume.root.logger=INFO,console &#x9; &#x9;&#x521b;&#x5efa;&#x7a7a;&#x6587;&#x4ef6;&#x6f14;&#x793a; touch flume.exec.log &#x9;&#xa;&#x5faa;&#x73af;&#x6dfb;&#x52a0;&#x6570;&#x636e; &#x9;for i in {1..50}; do echo &quot;$i hi flume&quot; &gt;&gt; flume.exec.log ; sleep 0.1; done "/>
</node>
<node CREATED="1519803333523" ID="ID_1646031649" MODIFIED="1519803341962" TEXT="&#x6848;&#x4f8b;4">
<node CREATED="1519803344782" ID="ID_1228909131" MODIFIED="1519803412514" TEXT="http://flume.apache.org/FlumeUserGuide.html#spooling-directory-source &#x9;&#xa;&#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;&#xa;############################################################ &#x9;&#xa;a1.sources = r1 &#x9;&#xa;a1.sinks = k1 &#x9;&#xa;a1.channels = c1  &#x9;&#xa;# Describe/configure the source &#x9;&#xa;a1.sources.r1.type = spooldir &#x9;&#xa;a1.sources.r1.spoolDir = /home/logs &#x9;&#xa;a1.sources.r1.fileHeader = true  &#x9;&#xa;# Describe the sink &#x9;&#xa;a1.sinks.k1.type = logger  &#x9;&#xa;# Use a channel which buffers events in memory &#x9;&#xa;a1.channels.c1.type = memory &#x9;&#xa;a1.channels.c1.capacity = 1000 &#x9;&#xa;a1.channels.c1.transactionCapacity = 100  &#x9;&#xa;# Bind the source and sink to the channel &#x9;&#xa;a1.sources.r1.channels = c1 &#x9;&#xa;a1.sinks.k1.channel = c1 &#x9;############################################################  &#x9;&#xa;&#x542f;&#x52a8;Flume &#x9;flume-ng agent -n a1 -c conf -f spool.conf -Dflume.root.logger=INFO,console  &#x9;&#xa;&#x62f7;&#x8d1d;&#x6587;&#x4ef6;&#x6f14;&#x793a; &#x9;mkdir logs &#x9;cp flume.exec.log logs/ "/>
</node>
<node CREATED="1519803444887" ID="ID_299822957" MODIFIED="1519803865139" TEXT="&#x6848;&#x4f8b;5&#xff08;hdfs sink &#x65e5;&#x5fd7;&#x5206;&#x6790;&#x4f7f;&#x7528;&#xff09;">
<node CREATED="1519803460030" ID="ID_504471762" MODIFIED="1519803566977" TEXT="http://flume.apache.org/FlumeUserGuide.html#hdfs-sink &#x9; &#x9;&#x9;&#xa;&#x914d;&#x7f6e;&#x6587;&#x4ef6; &#x9;&#xa;############################################################ &#x9;a1.sources = r1 &#x9;a1.sinks = k1 &#x9;&#xa;a1.channels = c1  &#x9;&#xa;# Describe/configure the source &#x9;&#xa;a1.sources.r1.type = spooldir &#x9;&#xa;a1.sources.r1.spoolDir = /home/logs &#x9;&#xa;a1.sources.r1.fileHeader = true  &#x9;&#xa;# Describe the sink &#x9;&#xa;***&#x53ea;&#x4fee;&#x6539;&#x4e0a;&#x4e00;&#x4e2a;spool sink&#x7684;&#x914d;&#x7f6e;&#x4ee3;&#x7801;&#x5757; a1.sinks.k1.type = logger &#x9;&#xa;a1.sinks.k1.type=hdfs &#x9;&#xa;a1.sinks.k1.hdfs.path=hdfs://sxt/flume/%Y-%m-%d/%H%M &#x9; &#x9;&#xa;##&#x6bcf;&#x9694;60s&#x6216;&#x8005;&#x6587;&#x4ef6;&#x5927;&#x5c0f;&#x8d85;&#x8fc7;10M&#x7684;&#x65f6;&#x5019;&#x4ea7;&#x751f;&#x65b0;&#x6587;&#x4ef6; &#x9;&#xa;# hdfs&#x6709;&#x591a;&#x5c11;&#x6761;&#x6d88;&#x606f;&#x65f6;&#x65b0;&#x5efa;&#x6587;&#x4ef6;&#xff0c;0&#x4e0d;&#x57fa;&#x4e8e;&#x6d88;&#x606f;&#x4e2a;&#x6570; &#x9;&#xa;a1.sinks.k1.hdfs.rollCount=0 &#x9;# hdfs&#x521b;&#x5efa;&#x591a;&#x957f;&#x65f6;&#x95f4;&#x65b0;&#x5efa;&#x6587;&#x4ef6;&#xff0c;0&#x4e0d;&#x57fa;&#x4e8e;&#x65f6;&#x95f4; &#x9;a1.sinks.k1.hdfs.rollInterval=60 &#x9;# hdfs&#x591a;&#x5927;&#x65f6;&#x65b0;&#x5efa;&#x6587;&#x4ef6;&#xff0c;0&#x4e0d;&#x57fa;&#x4e8e;&#x6587;&#x4ef6;&#x5927;&#x5c0f; &#x9;a1.sinks.k1.hdfs.rollSize=10240 &#x9;# &#x5f53;&#x76ee;&#x524d;&#x88ab;&#x6253;&#x5f00;&#x7684;&#x4e34;&#x65f6;&#x6587;&#x4ef6;&#x5728;&#x8be5;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x7684;&#x65f6;&#x95f4;&#xff08;&#x79d2;&#xff09;&#x5185;&#xff0c;&#x6ca1;&#x6709;&#x4efb;&#x4f55;&#x6570;&#x636e;&#x5199;&#x5165;&#xff0c;&#x5219;&#x5c06;&#x8be5;&#x4e34;&#x65f6;&#x6587;&#x4ef6;&#x5173;&#x95ed;&#x5e76;&#x91cd;&#x547d;&#x540d;&#x6210;&#x76ee;&#x6807;&#x6587;&#x4ef6; &#x9;a1.sinks.k1.hdfs.idleTimeout=3 &#x9; &#x9;a1.sinks.k1.hdfs.fileType=DataStream &#x9;&#xa;a1.sinks.k1.hdfs.useLocalTimeStamp=true &#x9; &#x9;## &#x6bcf;&#x4e94;&#x5206;&#x949f;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x76ee;&#x5f55;: &#x9;# &#x662f;&#x5426;&#x542f;&#x7528;&#x65f6;&#x95f4;&#x4e0a;&#x7684;&#x201d;&#x820d;&#x5f03;&#x201d;&#xff0c;&#x8fd9;&#x91cc;&#x7684;&#x201d;&#x820d;&#x5f03;&#x201d;&#xff0c;&#x7c7b;&#x4f3c;&#x4e8e;&#x201d;&#x56db;&#x820d;&#x4e94;&#x5165;&#x201d;&#xff0c;&#x540e;&#x9762;&#x518d;&#x4ecb;&#x7ecd;&#x3002;&#x5982;&#x679c;&#x542f;&#x7528;&#xff0c;&#x5219;&#x4f1a;&#x5f71;&#x54cd;&#x9664;&#x4e86;%t&#x7684;&#x5176;&#x4ed6;&#x6240;&#x6709;&#x65f6;&#x95f4;&#x8868;&#x8fbe;&#x5f0f; &#x9;&#xa;a1.sinks.k1.hdfs.round=true &#x9;# &#x65f6;&#x95f4;&#x4e0a;&#x8fdb;&#x884c;&#x201c;&#x820d;&#x5f03;&#x201d;&#x7684;&#x503c;&#xff1b; &#x9;&#xa;a1.sinks.k1.hdfs.roundValue=5 &#x9;# &#x65f6;&#x95f4;&#x4e0a;&#x8fdb;&#x884c;&#x201d;&#x820d;&#x5f03;&#x201d;&#x7684;&#x5355;&#x4f4d;&#xff0c;&#x5305;&#x542b;&#xff1a;second,minute,hour &#x9;a1.sinks.k1.hdfs.roundUnit=minute  &#x9;&#xa;# Use a channel which buffers events in memory &#x9;&#xa;a1.channels.c1.type = memory &#x9;a1.channels.c1.capacity = 1000&#xa; a1.channels.c1.transactionCapacity = 100  &#x9;&#xa;# Bind the source and sink to the channel &#x9;&#xa;a1.sources.r1.channels = c1 &#x9;&#xa;a1.sinks.k1.channel = c1 &#x9;############################################################ "/>
</node>
<node CREATED="1519804792992" ID="ID_995414924" MODIFIED="1519804804342" TEXT="&#x65e5;&#x5fd7;&#x5206;&#x6790;&#x666e;&#x901a;&#x67b6;&#x6784;">
<node CREATED="1519804810866" ID="ID_269589727" MODIFIED="1519804816943">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="&#x65e5;&#x5fd7;&#x5206;&#x6790;&#x666e;&#x901a;&#x67b6;&#x6784;.png" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1519954422406" ID="ID_1685643013" MODIFIED="1519954473206" TEXT="&#x5982;&#x4f55;&#x89e3;&#x51b3;flume&#x5c06;&#x6570;&#x636e;&#x4f20;&#x5230;hdfs&#x4e0a;&#x4ea7;&#x751f;&#x8bb8;&#x591a;&#x5c0f;&#x6587;&#x4ef6;&#x7684;&#x95ee;&#x9898;&#xff1f;&#xff1f;&#xff1f;"/>
</node>
</node>
</map>
